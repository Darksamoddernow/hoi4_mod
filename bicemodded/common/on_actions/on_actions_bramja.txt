#stabilize puppet & civil war.
on_actions = {
	on_puppet = {
		effect = {
			if = {
				limit = {
					date > 1941.1.1
					has_stability < 0.6
				}
				set_stability = 0.55
			}
			if = {
				limit = {
					date > 1941.1.1
					has_war_support < 0.6
				}
				set_war_support = 0.55
			}
			if = {
				limit = {
					has_country_flag = crisis_solution_in_progress
				}
				clr_country_flag = crisis_solution_in_progress
			}
			if = {
				limit = {
					has_country_flag = crisis_in_progress
				}
				clr_country_flag = crisis_in_progress
			}
			if = {
				limit = {
					OR = {
						has_idea = draft_dodging
						has_idea = draft_dodging_2
						has_idea = draft_dodging_3
					}
				}
				remove_ideas =  { 
					draft_dodging 
					draft_dodging_2
					draft_dodging_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = strikes_1 
						has_idea = strikes_2
						has_idea = strikes_3
					}
				}
				remove_ideas =  { 
					strikes_1 
					strikes_2
					strikes_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = mutiny_1
						has_idea = mutiny_2
						has_idea = mutiny_3
					}
				}
				remove_ideas =  { 
					mutiny_1 
					mutiny_2
					mutiny_3
				}
			}
		}
	}

	on_liberate = {
		effect = {
			if = {
				limit = {
					date > 1941.1.1
					has_stability < 0.6
				}
				set_stability = 0.55
			}
			if = {
				limit = {
					date > 1941.1.1
					has_war_support < 0.6
				}
				set_war_support = 0.55
			}
			if = {
				limit = {
					has_country_flag = crisis_solution_in_progress
				}
				clr_country_flag = crisis_solution_in_progress
			}
			if = {
				limit = {
					has_country_flag = crisis_in_progress
				}
				clr_country_flag = crisis_in_progress
			}
			if = {
				limit = {
					OR = {
						has_idea = draft_dodging
						has_idea = draft_dodging_2
						has_idea = draft_dodging_3
					}
				}
				remove_ideas =  { 
					draft_dodging 
					draft_dodging_2
					draft_dodging_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = strikes_1 
						has_idea = strikes_2
						has_idea = strikes_3
					}
				}
				remove_ideas =  { 
					strikes_1 
					strikes_2
					strikes_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = mutiny_1
						has_idea = mutiny_2
						has_idea = mutiny_3
					}
				}
				remove_ideas =  { 
					mutiny_1 
					mutiny_2
					mutiny_3
				}
			}
		}
	}

	on_release_as_free = {
		effect = {
			if = {
				limit = {
					date > 1941.1.1
					has_stability < 0.6
				}
				set_stability = 0.55
			}
			if = {
				limit = {
					date > 1941.1.1
					has_war_support < 0.6
				}
				set_war_support = 0.55
			}
			if = {
				limit = {
					has_country_flag = crisis_solution_in_progress
				}
				clr_country_flag = crisis_solution_in_progress
			}
			if = {
				limit = {
					has_country_flag = crisis_in_progress
				}
				clr_country_flag = crisis_in_progress
			}
			if = {
				limit = {
					OR = {
						has_idea = draft_dodging
						has_idea = draft_dodging_2
						has_idea = draft_dodging_3
					}
				}
				remove_ideas =  { 
					draft_dodging 
					draft_dodging_2
					draft_dodging_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = strikes_1 
						has_idea = strikes_2
						has_idea = strikes_3
					}
				}
				remove_ideas =  { 
					strikes_1 
					strikes_2
					strikes_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = mutiny_1
						has_idea = mutiny_2
						has_idea = mutiny_3
					}
				}
				remove_ideas =  { 
					mutiny_1 
					mutiny_2
					mutiny_3
				}
			}
		}
	}

	on_release_as_puppet = {
		effect = {
			if = {
				limit = {
					date > 1941.1.1
					has_stability < 0.6
				}
				set_stability = 0.55
			}
			if = {
				limit = {
					date > 1941.1.1
					has_war_support < 0.6
				}
				set_war_support = 0.55
			}
			if = {
				limit = {
					has_country_flag = crisis_solution_in_progress
				}
				clr_country_flag = crisis_solution_in_progress
			}
			if = {
				limit = {
					has_country_flag = crisis_in_progress
				}
				clr_country_flag = crisis_in_progress
			}
			if = {
				limit = {
					OR = {
						has_idea = draft_dodging
						has_idea = draft_dodging_2
						has_idea = draft_dodging_3
					}
				}
				remove_ideas =  { 
					draft_dodging 
					draft_dodging_2
					draft_dodging_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = strikes_1 
						has_idea = strikes_2
						has_idea = strikes_3
					}
				}
				remove_ideas =  { 
					strikes_1 
					strikes_2
					strikes_3
				}
			}
			if = {
				limit = {
					OR = {
						has_idea = mutiny_1
						has_idea = mutiny_2
						has_idea = mutiny_3
					}
				}
				remove_ideas =  { 
					mutiny_1 
					mutiny_2
					mutiny_3
				}
			}
		}
	}

#to be tested!
	on_war = {
		effect = {
			if = {
				limit = {
					date > 1941.1.1
					has_civil_war = yes	
				}
				country_event = { id = bramja.19 }
#				set_rule = {
#					can_join_factions =  no
#				}
			}	
		}
	}			
} 