technologies = {
	
	@1920 = 0
	@1921 = 2
	@1922 = 4
	@1923 = 6
	@1930 = 8
	@1934 = 10
    @1936 = 12
	@1937 = 14
	@1938 = 16
	@1939 = 18
	@1940 = 20
	@1941 = 22
	@1942 = 24
	@1943 = 26
	@1944 = 28
	@1945 = 30
	@1946 = 32
	
	generic_mtg_naval_technologies = { 
		
		allow = {
			always = no
		}
		
		path = {
			leads_to_tech = early_battery
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_secondary_battery
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_torpedo
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = early_cruiser_armor_scheme
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_heavy_armor_scheme
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = sonar
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_depth_charges
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_submarine_snorkel
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = fire_control_methods_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = damage_control_1
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = airplane_launcher
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = smoke_generator
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = mtg_transport
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_naval_mines
			research_cost_coeff = 1
		}
		
		research_cost = 1

		start_year = 1920
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1920  }
		}
		
		ai_will_do = {
			factor = 6
		}
		
		categories = {
			naval_equipment
		}
	}
	
	early_battery = {
		
		research_cost = 0.5

		start_year = 1920

		path = {
			leads_to_tech = basic_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_light_battery_0
			ship_x2_light_battery_0
			ship_twin_light_battery_0
			ship_x2_twin_light_battery_0
			ship_medium_battery_0
			ship_x2_medium_battery_0
			ship_twin_medium_battery_0
			ship_x2_twin_medium_battery_0
			ship_triple_medium_battery_0
			ship_light_medium_battery_0
			ship_x2_light_medium_battery_0
			ship_twin_light_medium_battery_0
			ship_x2_twin_light_medium_battery_0
			ship_triple_light_medium_battery_0
			ship_heavy_battery_0
			ship_triple_heavy_battery_0
			ship_quad_heavy_battery_0
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1920 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_10 #Tier 1
					has_tech = destroyer_18_usa
					has_tech = destroyer_20_jap
					has_tech = destroyer_20_eng
					has_tech = destroyer_20_ger
					has_tech = destroyer_20_ita
					has_tech = destroyer_20_fra
					has_tech = destroyer_20_sov
				}
				factor = 500
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_battery = {
		
		research_cost = 0.6

		start_year = 1922

		path = {
			leads_to_tech = basic_light_battery
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_medium_battery
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = basic_heavy_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_light_battery_1
			ship_x2_light_battery_1
			ship_twin_light_battery_1
			ship_x2_twin_light_battery_1
			ship_medium_battery_1
			ship_x2_medium_battery_1
			ship_twin_medium_battery_1
			ship_x2_twin_medium_battery_1
			ship_triple_medium_battery_1
			ship_light_medium_battery_1
			ship_x2_light_medium_battery_1
			ship_twin_light_medium_battery_1
			ship_x2_twin_light_medium_battery_1
			ship_triple_light_medium_battery_1
			ship_heavy_battery_1
			ship_triple_heavy_battery_1
			ship_quad_heavy_battery_1
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1921 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_22 #Tier 2
					has_tech = destroyer_24_usa
					has_tech = destroyer_23_jap
					has_tech = destroyer_23_eng
					has_tech = destroyer_31_ger
					has_tech = destroyer_31_ita
					has_tech = destroyer_22_fra
					has_tech = destroyer_23_sov
				}
				factor = 500
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}

	basic_light_battery = {
		
		research_cost = 0.65

		start_year = 1922

		path = {
			leads_to_tech = improved_light_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_light_battery_2
			ship_x2_light_battery_2
			ship_twin_light_battery_2
			ship_x2_twin_light_battery_2
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = @1922 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_36 #Tier 3
					has_tech = destroyer_37_usa
					has_tech = destroyer_39_jap
					has_tech = destroyer_36_eng
					has_tech = destroyer_37_ger
					has_tech = destroyer_37_ita
					has_tech = destroyer_36_fra
					has_tech = destroyer_37_sov
				}
				factor = 20
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_light_battery = {
		
		research_cost = 0.7

		start_year = 1937

		path = {
			leads_to_tech = advanced_light_battery
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_light_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_light_battery_3
			ship_x2_light_battery_3
			ship_twin_light_battery_3
			ship_x2_twin_light_battery_3
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = @1937 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_39 #Tier 4
					has_tech = destroyer_40_usa
					has_tech = destroyer_41_jap
					has_tech = destroyer_38_eng
					has_tech = destroyer_39_ger
					has_tech = destroyer_39_ita
					has_tech = destroyer_39_fra
					has_tech = destroyer_39_sov
				}
				factor = 500
			}
			modifier = {
				factor = 0
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_light_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1937

		path = {
			leads_to_tech = improved_light_shell
			research_cost_coeff = 1
		}
		
		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		sh_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}	
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = @1937 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				date < 1938.6.1
			}
			modifier = {
				has_war = yes
				factor = 10
			}
			modifier = {
				factor = 17
				OR = { tag = ITA tag = USA tag = JAP tag = ENG }
				date > 1939.1.1
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_light_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1940
		path = {
			leads_to_tech = advanced_light_shell
			research_cost_coeff = 1
		}
		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		sh_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}	
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	advanced_light_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1943
		
		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		sh_battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}	
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	advanced_light_battery = {
		
		research_cost = 0.75

		start_year = 1940

		enable_equipment_modules = { 
			ship_light_battery_4
			ship_x2_light_battery_4
			ship_twin_light_battery_4
			ship_x2_twin_light_battery_4
		}
		path = {
			leads_to_tech = modern_light_battery
			research_cost_coeff = 1
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_42 #Tier 5
					has_tech = destroyer_42_usa
					has_tech = destroyer_42_jap
					has_tech = destroyer_42_eng
					has_tech = destroyer_41_ger
					has_tech = destroyer_42_ita
					has_tech = destroyer_42_fra
					has_tech = destroyer_41_sov
				}
				factor = 20
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
    modern_light_battery = {
		
		research_cost = 0.8

		start_year = 1944

		enable_equipment_modules = { 
			ship_light_battery_5
			ship_x2_light_battery_5
			ship_twin_light_battery_5
			ship_x2_twin_light_battery_5
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = @1944 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = destroyer_44 #Tier 6
					has_tech = destroyer_44_usa
					has_tech = destroyer_44_jap
					has_tech = destroyer_44_eng
					has_tech = destroyer_43_ger
					has_tech = destroyer_45_ita
					has_tech = destroyer_45_fra
					has_tech = destroyer_44_sov
				}
				factor = 20
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_medium_battery = {
		
		research_cost = 0.65

		start_year = 1922

		path = {
			leads_to_tech = improved_medium_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_medium_battery_2
			ship_x2_medium_battery_2
			ship_twin_medium_battery_2
			ship_x2_twin_medium_battery_2
			ship_triple_medium_battery_2
			ship_light_medium_battery_2
			ship_x2_light_medium_battery_2
			ship_twin_light_medium_battery_2
			ship_x2_twin_light_medium_battery_2
			ship_triple_light_medium_battery_2
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1922 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_34 #Tier 3
					has_tech = light_cruiser_36_usa
					has_tech = light_cruiser_30_jap
					has_tech = light_cruiser_37_eng
					has_tech = light_cruiser_31_ger
					has_tech = light_cruiser_36_ita
					has_tech = light_cruiser_36_fra
					has_tech = light_cruiser_31_sov
				}
				factor = 7
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_medium_battery = {
		
		research_cost = 0.7

		start_year = 1937

		path = {
			leads_to_tech = advanced_medium_battery
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_medium_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_medium_battery_3
			ship_x2_medium_battery_3
			ship_twin_medium_battery_3
			ship_x2_twin_medium_battery_3
			ship_triple_medium_battery_3
			ship_light_medium_battery_3
			ship_x2_light_medium_battery_3
			ship_twin_light_medium_battery_3
			ship_x2_twin_light_medium_battery_3
			ship_triple_light_medium_battery_3
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1937 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_38 #Tier 4
					has_tech = light_cruiser_39_usa
					has_tech = light_cruiser_38_jap
					has_tech = light_cruiser_39_eng
					has_tech = light_cruiser_38_ger
					has_tech = light_cruiser_38_ita
					has_tech = light_cruiser_39_fra
					has_tech = light_cruiser_38_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_medium_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1937

		path = {
			leads_to_tech = improved_medium_shell
			research_cost_coeff = 1
		}
		
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 7 y = @1937 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				has_war = yes
				factor = 7
			}
			modifier = {
				factor = 0
				date < 1938.7.1
			}
			modifier = {
				factor = 14
				tag = ITA
				date > 1939.1.1
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_medium_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1940
		
		path = {
			leads_to_tech = advanced_medium_shell
			research_cost_coeff = 1
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 7 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
    advanced_medium_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1943
		
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 7 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	advanced_medium_battery = {
		
		research_cost = 0.75

		start_year = 1941

		enable_equipment_modules = { 
			ship_medium_battery_4
			ship_x2_medium_battery_4
			ship_twin_medium_battery_4
			ship_x2_twin_medium_battery_4
			ship_triple_medium_battery_4
			ship_light_medium_battery_4
			ship_x2_light_medium_battery_4
			ship_twin_light_medium_battery_4
			ship_x2_twin_light_medium_battery_4
			ship_triple_light_medium_battery_4
		}
		path = {
			leads_to_tech = modern_medium_battery
			research_cost_coeff = 1
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_41 #Tier 5
					has_tech = light_cruiser_41_usa
					has_tech = light_cruiser_40_jap
					has_tech = light_cruiser_42_eng
					has_tech = light_cruiser_41_ger
					has_tech = light_cruiser_41_ita
					has_tech = light_cruiser_41_fra
					has_tech = light_cruiser_41_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	modern_medium_battery = {
		
		research_cost = 0.8

		start_year = 1944

		enable_equipment_modules = { 
			ship_medium_battery_5
			ship_x2_medium_battery_5
			ship_twin_medium_battery_5
			ship_x2_twin_medium_battery_5
			ship_triple_medium_battery_5
			ship_light_medium_battery_5
			ship_x2_light_medium_battery_5
			ship_twin_light_medium_battery_5
			ship_x2_twin_light_medium_battery_5
			ship_triple_light_medium_battery_5
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 5 y = @1944 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_44 #Tier 6
					has_tech = light_cruiser_43_usa
					has_tech = light_cruiser_44_jap
					has_tech = light_cruiser_44_eng
					has_tech = light_cruiser_44_ger
					has_tech = light_cruiser_44_ita
					has_tech = light_cruiser_44_fra
					has_tech = light_cruiser_44_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_heavy_battery = {
		
		research_cost = 0.65

		start_year = 1922

		path = {
			leads_to_tech = improved_heavy_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_heavy_battery_2
			ship_triple_heavy_battery_2
			ship_quad_heavy_battery_2
			ship_super_heavy_battery_1
			ship_triple_super_heavy_battery_1
			ship_quad_super_heavy_battery_1
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 9 y = @1922 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = battleship_36 #Tier 4 BB / Tier 3 BC / Tier 1 SHBB
					has_tech = battlecruiser_37
					has_tech = sh_battleship_37
					has_tech = battleship_37_usa
					has_tech = battlecruiser_37_usa
					has_tech = sh_battleship_38_usa
					has_tech = battleship_36_jap
					has_tech = battlecruiser_38_jap
					has_tech = sh_battleship_37_jap
					has_tech = battleship_34_eng
					has_tech = battlecruiser_37_eng
					has_tech = sh_battleship_37_eng
					has_tech = battleship_36_ger
					has_tech = battlecruiser_37_ger
					has_tech = sh_battleship_37_ger
					has_tech = battleship_36_ita
					has_tech = battlecruiser_37_ita
					has_tech = sh_battleship_37_ita
					has_tech = battleship_36_fra
					has_tech = battlecruiser_37_fra
					has_tech = sh_battleship_37_fra
					has_tech = battleship_36_sov
					has_tech = battlecruiser_37_sov
					has_tech = sh_battleship_37_sov
				}
				factor = 7
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_heavy_battery = {
		
		research_cost = 0.7

		start_year = 1937

		path = {
			leads_to_tech = advanced_heavy_battery
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = basic_heavy_shell
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_heavy_battery_3
			ship_triple_heavy_battery_3
			ship_quad_heavy_battery_3
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 9 y = @1937 }
		}
		
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
			}
			modifier = {
				OR = {
					has_tech = battleship_38 #Tier 5 BB / Tier 4 BC
					has_tech = battlecruiser_39
					has_tech = battleship_39_usa
					has_tech = battlecruiser_39_usa
					has_tech = battleship_38_jap
					has_tech = battlecruiser_40_jap
					has_tech = battleship_38_eng
					has_tech = battlecruiser_39_eng
					has_tech = battleship_38_ger
					has_tech = battlecruiser_39_ger
					has_tech = battleship_38_ita
					has_tech = battlecruiser_39_ita
					has_tech = battleship_38_fra
					has_tech = battlecruiser_39_fra
					has_tech = battleship_38_sov
					has_tech = battlecruiser_39_sov
				}
				factor = 7
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	basic_heavy_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1937

		path = {
			leads_to_tech = improved_heavy_shell
			research_cost_coeff = 1
		}
		
		sh_battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 11 y = @1937 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				num_of_factories > 100
				has_war = yes
				factor = 5
			}
            modifier = {
				factor = 10
				OR = { tag = ITA tag = USA tag = JAP tag = ENG }
				date > 1939.1.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 0
				date < 1938.6.1
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_heavy_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1940
		
		path = {
			leads_to_tech = advanced_heavy_shell
			research_cost_coeff = 1
		}
		sh_battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 11 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				num_of_factories > 100
				has_war = yes
				factor = 5
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
    advanced_heavy_shell = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1943
		
		sh_battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.025
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 11 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				num_of_factories > 100
				has_war = yes
				factor = 5
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	advanced_heavy_battery = {
		
		research_cost = 0.75

		start_year = 1940

		enable_equipment_modules = { 
			ship_heavy_battery_4
			ship_triple_heavy_battery_4
			ship_quad_heavy_battery_4
			ship_super_heavy_battery_2
			ship_triple_super_heavy_battery_2
			ship_quad_super_heavy_battery_2
		}
		path = {
			leads_to_tech = modern_heavy_battery
			research_cost_coeff = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 9 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = battleship_41 #Tier 6 BB / Tier 5 BC / Tier 1 SHBB
					has_tech = battlecruiser_42
					has_tech = sh_battleship_37
					has_tech = battleship_41_usa
					has_tech = battlecruiser_42_usa
					has_tech = sh_battleship_38_usa
					has_tech = battleship_41_jap
					has_tech = battlecruiser_42_jap
					has_tech = sh_battleship_37_jap
					has_tech = battleship_41_eng
					has_tech = battlecruiser_42_eng
					has_tech = sh_battleship_37_eng
					has_tech = battleship_41_ger
					has_tech = battlecruiser_42_ger
					has_tech = sh_battleship_37_ger
					has_tech = battleship_41_ita
					has_tech = battlecruiser_42_ita
					has_tech = sh_battleship_37_ita
					has_tech = battleship_40_fra
					has_tech = battlecruiser_42_fra
					has_tech = sh_battleship_37_fra
					has_tech = battleship_41_sov
					has_tech = battlecruiser_41_sov
					has_tech = sh_battleship_37_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	modern_heavy_battery = {
		
		research_cost = 0.8

		start_year = 1944

		enable_equipment_modules = { 
			ship_heavy_battery_5
			ship_triple_heavy_battery_5
			ship_quad_heavy_battery_5
			ship_super_heavy_battery_3
			ship_triple_super_heavy_battery_3
			ship_quad_super_heavy_battery_3
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 9 y = @1944 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = battleship_43 #Tier 7 BB / Tier 6 BC / Tier 2 SHBB
					has_tech = battlecruiser_44
					has_tech = sh_battleship_42
					has_tech = battleship_43_usa
					has_tech = battlecruiser_44_usa
					has_tech = sh_battleship_41_usa
					has_tech = battleship_43_jap
					has_tech = battlecruiser_44_jap
					has_tech = sh_battleship_42_jap
					has_tech = battleship_43_eng
					has_tech = battlecruiser_44_eng
					has_tech = sh_battleship_42_eng
					has_tech = battleship_43_ger
					has_tech = battlecruiser_44_ger
					has_tech = sh_battleship_42_ger
					has_tech = battleship_43_ita
					has_tech = battlecruiser_44_ita
					has_tech = sh_battleship_42_ita
					has_tech = battleship_43_fra
					has_tech = battlecruiser_44_fra
					has_tech = sh_battleship_42_fra
					has_tech = battleship_43_sov
					has_tech = battlecruiser_43_sov
					has_tech = sh_battleship_42_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	
	basic_secondary_battery = {
		
		research_cost = 0.5

		start_year = 1922

		path = {
			leads_to_tech = improved_secondary_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_secondaries_1
			ship_x2_secondaries_1
			ship_x4_secondaries_1
			ship_x6_secondaries_1
			ship_x8_secondaries_1
			ship_x10_secondaries_1
			ship_x12_secondaries_1
			ship_x14_secondaries_1
			ship_x16_secondaries_1
			ship_x17_secondaries_1
			ship_x18_secondaries_1
			ship_x20_secondaries_1
			ship_x22_secondaries_1
			ship_x24_secondaries_1
			ship_x26_secondaries_1
			ship_x28_secondaries_1
			ship_twin_secondaries_1
			ship_x2_twin_secondaries_1
			ship_x3_twin_secondaries_1
			ship_x4_twin_secondaries_1
			ship_x5_twin_secondaries_1
			ship_x6_twin_secondaries_1
			ship_x8_twin_secondaries_1
			ship_x10_twin_secondaries_1
			ship_x12_twin_secondaries_1
			ship_x14_twin_secondaries_1
			ship_x2_triple_secondaries_1
			ship_x3_triple_secondaries_1
			ship_x4_triple_secondaries_1
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 13 y = @1922 }
		}
		
		ai_will_do = {
			factor = 5
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	improved_secondary_battery = {
		
		research_cost = 0.6

		start_year = 1936

		path = {
			leads_to_tech = advanced_secondary_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = dp_secondary_battery
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_secondaries_2
			ship_x2_secondaries_2
			ship_x4_secondaries_2
			ship_x6_secondaries_2
			ship_x8_secondaries_2
			ship_x10_secondaries_2
			ship_x12_secondaries_2
			ship_x14_secondaries_2
			ship_x16_secondaries_2
			ship_x17_secondaries_2
			ship_x18_secondaries_2
			ship_x20_secondaries_2
			ship_x22_secondaries_2
			ship_x24_secondaries_2
			ship_x26_secondaries_2
			ship_x28_secondaries_2
			ship_twin_secondaries_2
			ship_x2_twin_secondaries_2
			ship_x3_twin_secondaries_2
			ship_x4_twin_secondaries_2
			ship_x5_twin_secondaries_2
			ship_x6_twin_secondaries_2
			ship_x8_twin_secondaries_2
			ship_x10_twin_secondaries_2
			ship_x12_twin_secondaries_2
			ship_x14_twin_secondaries_2
			ship_x2_triple_secondaries_2
			ship_x3_triple_secondaries_2
			ship_x4_triple_secondaries_2
			dp_ship_secondaries
			dp_ship_x2_secondaries
			dp_ship_x4_secondaries
			dp_ship_x6_secondaries
			dp_ship_x8_secondaries
			dp_ship_x10_secondaries
			dp_ship_x12_secondaries
			dp_ship_x14_secondaries
			dp_ship_x16_secondaries
			dp_ship_x17_secondaries
			dp_ship_x18_secondaries
			dp_ship_x20_secondaries
			dp_ship_x22_secondaries
			dp_ship_x24_secondaries
			dp_ship_x26_secondaries
			dp_ship_x28_secondaries
			dp_ship_twin_secondaries
			dp_ship_x2_twin_secondaries
			dp_ship_x3_twin_secondaries
			dp_ship_x4_twin_secondaries
			dp_ship_x5_twin_secondaries
			dp_ship_x6_twin_secondaries
			dp_ship_x8_twin_secondaries
			dp_ship_x10_twin_secondaries
			dp_ship_x12_twin_secondaries
			dp_ship_x14_twin_secondaries
			dp_ship_x2_triple_secondaries
			dp_ship_x3_triple_secondaries
			dp_ship_x4_triple_secondaries
			dp_light_battery
			dp_x2_light_battery
			dp_twin_light_battery
			dp_x2_twin_light_battery
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 13 y = @1936 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_34 #Tier 3 CL
					has_tech = light_cruiser_36_usa
					has_tech = light_cruiser_30_jap
					has_tech = light_cruiser_37_eng
					has_tech = light_cruiser_31_ger
					has_tech = light_cruiser_36_ita
					has_tech = light_cruiser_36_fra
					has_tech = light_cruiser_31_sov
					has_tech = battleship_36 #Tier 4 BB / Tier 3 BC / Tier 1 SHBB
					has_tech = battlecruiser_37
					has_tech = sh_battleship_37
					has_tech = battleship_37_usa
					has_tech = battlecruiser_37_usa
					has_tech = sh_battleship_38_usa
					has_tech = battleship_36_jap
					has_tech = battlecruiser_38_jap
					has_tech = sh_battleship_37_jap
					has_tech = battleship_34_eng
					has_tech = battlecruiser_37_eng
					has_tech = sh_battleship_37_eng
					has_tech = battleship_36_ger
					has_tech = battlecruiser_37_ger
					has_tech = sh_battleship_37_ger
					has_tech = battleship_36_ita
					has_tech = battlecruiser_37_ita
					has_tech = sh_battleship_37_ita
					has_tech = battleship_36_fra
					has_tech = battlecruiser_37_fra
					has_tech = sh_battleship_37_fra
					has_tech = battleship_36_sov
					has_tech = battlecruiser_37_sov
					has_tech = sh_battleship_37_sov
				}
				factor = 7
			}
			modifier = {
				has_idea = london_naval_treaty
				factor = 0.1
			}
			modifier = {
				has_idea = london_naval_treaty_2
				factor = 0.1
			}
			modifier = {
				has_idea = london_naval_treaty_3
				factor = 0.1
			}
			modifier = {
				has_idea = london_naval_treaty_4
				factor = 0.1
			}
			modifier = {
				has_idea = london_naval_treaty_5
				factor = 0.1
			}
			modifier = {
				tag = USA
				date > 1937.5.1
				factor = 15
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	advanced_secondary_battery = {
		
		research_cost = 0.7

		start_year = 1939


		enable_equipment_modules = { 
			ship_secondaries_3
			ship_x2_secondaries_3
			ship_x4_secondaries_3
			ship_x6_secondaries_3
			ship_x8_secondaries_3
			ship_x10_secondaries_3
			ship_x12_secondaries_3
			ship_x14_secondaries_3
			ship_x16_secondaries_3
			ship_x17_secondaries_3
			ship_x18_secondaries_3
			ship_x20_secondaries_3
			ship_x22_secondaries_3
			ship_x24_secondaries_3
			ship_x26_secondaries_3
			ship_x28_secondaries_3
			ship_twin_secondaries_3
			ship_x2_twin_secondaries_3
			ship_x3_twin_secondaries_3
			ship_x4_twin_secondaries_3
			ship_x5_twin_secondaries_3
			ship_x6_twin_secondaries_3
			ship_x8_twin_secondaries_3
			ship_x10_twin_secondaries_3
			ship_x12_twin_secondaries_3
			ship_x14_twin_secondaries_3
			ship_x2_triple_secondaries_3
			ship_x3_triple_secondaries_3
			ship_x4_triple_secondaries_3
		}
		path = {
			leads_to_tech = modern_secondary_battery
			research_cost_coeff = 1
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 13 y = @1939 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_38 #Tier 4 CL
					has_tech = light_cruiser_39_usa
					has_tech = light_cruiser_38_jap
					has_tech = light_cruiser_39_eng
					has_tech = light_cruiser_38_ger
					has_tech = light_cruiser_38_ita
					has_tech = light_cruiser_39_fra
					has_tech = light_cruiser_38_sov
					has_tech = battleship_38 #Tier 5 BB / Tier 4 BC
					has_tech = battlecruiser_39
					has_tech = battleship_39_usa
					has_tech = battlecruiser_39_usa
					has_tech = battleship_38_jap
					has_tech = battlecruiser_40_jap
					has_tech = battleship_38_eng
					has_tech = battlecruiser_39_eng
					has_tech = battleship_38_ger
					has_tech = battlecruiser_39_ger
					has_tech = battleship_38_ita
					has_tech = battlecruiser_39_ita
					has_tech = battleship_38_fra
					has_tech = battlecruiser_39_fra
					has_tech = battleship_38_sov
					has_tech = battlecruiser_39_sov
				}
				factor = 5
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
			modifier = {
				tag = USA
				date > 1938.5.1
				factor = 15
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	modern_secondary_battery = {
		
		research_cost = 0.8

		start_year = 1942

		enable_equipment_modules = { 
			ship_secondaries_4
			ship_x2_secondaries_4
			ship_x4_secondaries_4
			ship_x6_secondaries_4
			ship_x8_secondaries_4
			ship_x10_secondaries_4
			ship_x12_secondaries_4
			ship_x14_secondaries_4
			ship_x16_secondaries_4
			ship_x17_secondaries_4
			ship_x18_secondaries_4
			ship_x20_secondaries_4
			ship_x22_secondaries_4
			ship_x24_secondaries_4
			ship_x26_secondaries_4
			ship_x28_secondaries_4
			ship_twin_secondaries_4
			ship_x2_twin_secondaries_4
			ship_x3_twin_secondaries_4
			ship_x4_twin_secondaries_4
			ship_x5_twin_secondaries_4
			ship_x6_twin_secondaries_4
			ship_x8_twin_secondaries_4
			ship_x10_twin_secondaries_4
			ship_x12_twin_secondaries_4
			ship_x14_twin_secondaries_4
			ship_x2_triple_secondaries_4
			ship_x3_triple_secondaries_4
			ship_x4_triple_secondaries_4
			dp_ship_secondaries_2
			dp_ship_x2_secondaries_2
			dp_ship_x4_secondaries_2
			dp_ship_x6_secondaries_2
			dp_ship_x8_secondaries_2
			dp_ship_x10_secondaries_2
			dp_ship_x12_secondaries_2
			dp_ship_x14_secondaries_2
			dp_ship_x16_secondaries_2
			dp_ship_x17_secondaries_2
			dp_ship_x18_secondaries_2
			dp_ship_x20_secondaries_2
			dp_ship_x22_secondaries_2
			dp_ship_x24_secondaries_2
			dp_ship_x26_secondaries_2
			dp_ship_x28_secondaries_2
			dp_ship_twin_secondaries_2
			dp_ship_x2_twin_secondaries_2
			dp_ship_x3_twin_secondaries_2
			dp_ship_x4_twin_secondaries_2
			dp_ship_x5_twin_secondaries_2
			dp_ship_x6_twin_secondaries_2
			dp_ship_x8_twin_secondaries_2
			dp_ship_x10_twin_secondaries_2
			dp_ship_x12_twin_secondaries_2
			dp_ship_x14_twin_secondaries_2
			dp_ship_x2_triple_secondaries_2
			dp_ship_x3_triple_secondaries_2
			dp_ship_x4_triple_secondaries_2
			dp_light_battery_2
			dp_x2_light_battery_2
			dp_twin_light_battery_2
			dp_x2_twin_light_battery_2
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 13 y = @1942 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = light_cruiser_41 #Tier 5 CL
					has_tech = light_cruiser_41_usa
					has_tech = light_cruiser_40_jap
					has_tech = light_cruiser_42_eng
					has_tech = light_cruiser_41_ger
					has_tech = light_cruiser_41_ita
					has_tech = light_cruiser_41_fra
					has_tech = light_cruiser_41_sov
					has_tech = battleship_41 #Tier 6 BB / Tier 5 BC / Tier 1 SHBB
					has_tech = battlecruiser_42
					has_tech = sh_battleship_37
					has_tech = battleship_41_usa
					has_tech = battlecruiser_42_usa
					has_tech = sh_battleship_38_usa
					has_tech = battleship_41_jap
					has_tech = battlecruiser_42_jap
					has_tech = sh_battleship_37_jap
					has_tech = battleship_41_eng
					has_tech = battlecruiser_42_eng
					has_tech = sh_battleship_37_eng
					has_tech = battleship_41_ger
					has_tech = battlecruiser_42_ger
					has_tech = sh_battleship_37_ger
					has_tech = battleship_41_ita
					has_tech = battlecruiser_42_ita
					has_tech = sh_battleship_37_ita
					has_tech = battleship_40_fra
					has_tech = battlecruiser_42_fra
					has_tech = sh_battleship_37_fra
					has_tech = battleship_41_sov
					has_tech = battlecruiser_41_sov
					has_tech = sh_battleship_37_sov
				}
				factor = 3
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
		}
		
		categories = {
			naval_equipment
			naval_gunry
		}
	}
	
	
	basic_torpedo = {
		
		research_cost = 0.6

		start_year = 1922

		path = {
			leads_to_tech = improved_ship_torpedo_launcher
			research_cost_coeff = 1
		}
		
		path = {
			leads_to_tech = magnetic_detonator
			research_cost_coeff = 1
		}
		
		enable_equipment_modules = { 
			ship_torpedo_1
			ship_x2_torpedo_1
			ship_x3_torpedo_1
			ship_x4_torpedo_1
			ship_x5_torpedo_1
			ship_x6_torpedo_1
			ship_x7_torpedo_1
			ship_x8_torpedo_1
			ship_x9_torpedo_1
			ship_x10_torpedo_1
			ship_x12_torpedo_1
			ship_x15_torpedo_1
			ship_x16_torpedo_1
			ship_torpedo_sub_1
		}
		


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 15 y = @1922 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				OR = {
					tag = JAP
					tag = USA
					tag = GER
					tag = ENG
				}
				factor = 5
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
		
		categories = {
			naval_equipment
		}
	}
	
	improved_ship_torpedo_launcher = {
		
		research_cost = 0.65

		start_year = 1930

		path = {
			leads_to_tech = advanced_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_torpedo_2
			ship_x2_torpedo_2
			ship_x3_torpedo_2
			ship_x4_torpedo_2
			ship_x5_torpedo_2
			ship_x6_torpedo_2
			ship_x7_torpedo_2
			ship_x8_torpedo_2
			ship_x9_torpedo_2
			ship_x10_torpedo_2
			ship_x12_torpedo_2
			ship_x15_torpedo_2
			ship_x16_torpedo_2
			ship_torpedo_sub_2
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 15 y = @1930 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				tag = JAP
				factor = 2
			}
			modifier = {
				tag = GER
				factor = 2
			}
			modifier = {
				OR = {
					has_tech = submarine_30 #Tier 2 Sub
					has_tech = submarine_30_usa
					has_tech = submarine_34_jap
					has_tech = submarine_30_eng
					has_tech = submarine_30_ger
					has_tech = submarine_30_ita
					has_tech = submarine_30_fra
					has_tech = submarine_30_sov
					has_tech = destroyer_36 #Tier 3 DD
					has_tech = destroyer_37_usa
					has_tech = destroyer_39_jap
					has_tech = destroyer_36_eng
					has_tech = destroyer_37_ger
					has_tech = destroyer_37_ita
					has_tech = destroyer_36_fra
					has_tech = destroyer_37_sov
				}
				factor = 3
			}
			modifier = {
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
				factor = 0
			}	
		}
		
		categories = {
			naval_equipment
		}
	}
	
	advanced_ship_torpedo_launcher = {
		
		research_cost = 0.7

		start_year = 1938

		path = {
			leads_to_tech = modern_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		enable_equipment_modules = { 
			ship_torpedo_3
			ship_x2_torpedo_3
			ship_x3_torpedo_3
			ship_x4_torpedo_3
			ship_x5_torpedo_3
			ship_x6_torpedo_3
			ship_x7_torpedo_3
			ship_x8_torpedo_3
			ship_x9_torpedo_3
			ship_x10_torpedo_3
			ship_x12_torpedo_3
			ship_x15_torpedo_3
			ship_x16_torpedo_3
			ship_torpedo_sub_3
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 15 y = @1938 }
		}
		
		ai_will_do = {
			factor = 0.5
			modifier = {
				tag = USA
				factor = 0.1
			}
			modifier = {
				OR = {
					has_tech = submarine_37 #Tier 3 Sub
					has_tech = submarine_38_usa
					has_tech = submarine_37_jap
					has_tech = submarine_36_eng
					has_tech = submarine_37_ger
					has_tech = submarine_37_ita
					has_tech = submarine_37_fra
					has_tech = submarine_37_sov
					has_tech = destroyer_39 #Tier 4 DD
					has_tech = destroyer_40_usa
					has_tech = destroyer_41_jap
					has_tech = destroyer_38_eng
					has_tech = destroyer_39_ger
					has_tech = destroyer_39_ita
					has_tech = destroyer_39_fra
					has_tech = destroyer_39_sov
				}
				factor = 6
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	modern_ship_torpedo_launcher = {
		
		research_cost = 0.75

		start_year = 1942

		enable_equipment_modules = { 
			ship_torpedo_4
			ship_x2_torpedo_4
			ship_x3_torpedo_4
			ship_x4_torpedo_4
			ship_x5_torpedo_4
			ship_x6_torpedo_4
			ship_x7_torpedo_4
			ship_x8_torpedo_4
			ship_x9_torpedo_4
			ship_x10_torpedo_4
			ship_x12_torpedo_4
			ship_x15_torpedo_4
			ship_x16_torpedo_4
			ship_torpedo_sub_4
		}
		
        path = {
			leads_to_tech = modern_ship_torpedo_launcher_2
			research_cost_coeff = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 15 y = @1942 }
		}
		
		ai_will_do = {
			factor = 0.5
			modifier = {
				tag = USA
				factor = 0.1
			}
			modifier = {
				OR = {
					has_tech = submarine_40 #Tier 4 Sub
					has_tech = submarine_40_usa
					has_tech = submarine_41_jap
					has_tech = submarine_40_eng
					has_tech = submarine_40_ger
					has_tech = submarine_40_ita
					has_tech = submarine_40_fra
					has_tech = submarine_40_sov
					has_tech = destroyer_42 #Tier 5 DD
					has_tech = destroyer_42_usa
					has_tech = destroyer_42_jap
					has_tech = destroyer_42_eng
					has_tech = destroyer_41_ger
					has_tech = destroyer_42_ita
					has_tech = destroyer_42_fra
					has_tech = destroyer_41_sov
				}
				factor = 4
			}
		}
		
		categories = {
			naval_equipment
		}
	}
	
	modern_ship_torpedo_launcher_2 = {
		
		research_cost = 0.8

		start_year = 1945

		enable_equipment_modules = { 
			ship_torpedo_5
			ship_x2_torpedo_5
			ship_x3_torpedo_5
			ship_x4_torpedo_5
			ship_x5_torpedo_5
			ship_x6_torpedo_5
			ship_x7_torpedo_5
			ship_x8_torpedo_5
			ship_x9_torpedo_5
			ship_x10_torpedo_5
			ship_x12_torpedo_5
			ship_x15_torpedo_5
			ship_x16_torpedo_5
			ship_torpedo_sub_5
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 15 y = @1945 }
		}
		
		ai_will_do = {
			factor = 0.5
			modifier = {
				tag = USA
				factor = 0.1
			}
			modifier = {
				OR = {
					has_tech = submarine_44 #Tier 5 Sub
					has_tech = submarine_44_usa
					has_tech = submarine_44_jap
					has_tech = submarine_44_eng
					has_tech = submarine_43_ger
					has_tech = submarine_44_ita
					has_tech = submarine_44_fra
					has_tech = submarine_44_sov
					has_tech = destroyer_44 #Tier 6 DD
					has_tech = destroyer_44_usa
					has_tech = destroyer_44_jap
					has_tech = destroyer_44_eng
					has_tech = destroyer_43_ger
					has_tech = destroyer_45_ita
					has_tech = destroyer_45_fra
					has_tech = destroyer_44_sov
				}
				factor = 3
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	magnetic_detonator = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1930

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = electric_torpedo
			research_cost_coeff = 1
		}

		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}
		
		

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 17 y = @1930 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
			    factor = 0
				date < 1938.2.11
				has_war = no
			}
			modifier = {
			    factor = 0
				tag = JAP
				has_war_with = CHI
			}
			modifier = {
				OR = {
					tag = JAP
					# tag = USA
					tag = GER
				}
				factor = 5
			}
			modifier = {
				has_war = yes
				factor = 3
			}
			modifier = {
				factor = 1.5
				tag = JAP #Japan wants torpedoes EXTRA HARD
				date > 1940.5.1
			}
			modifier = {
				factor = 0
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	homing_torpedo = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1941
		
		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 17 y = @1941 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				OR = {
					tag = JAP
					# tag = USA
					tag = GER
				}
				factor = 5
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	electric_torpedo = {
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.8

		start_year = 1940

		
		naval_torpedo_reveal_chance_factor = -0.25
		

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 19 y = @1940 }
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				OR = {
					tag = JAP
					# tag = USA
					tag = GER
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	
	early_cruiser_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_cruiser_1
		}
		path = {
			leads_to_tech = basic_cruiser_armor_scheme
			research_cost_coeff = 1
		}
		
		xp_research_type = navy
		xp_research_cost = 15
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1922
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 21 y = @1930 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 3
				OR = {
					tag = ENG
					tag = JAP
					tag = USA
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}
	basic_cruiser_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_cruiser_2
		}

		path = {
			leads_to_tech = improved_cruiser_armor_scheme
			research_cost_coeff = 1
		}
		
		xp_research_type = navy
		xp_research_cost = 15
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1936
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 21 y = @1936 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 3
				OR = {
					tag = ENG
					tag = JAP
					tag = USA
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}

	improved_cruiser_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_cruiser_3
		}
	
		path = {
			leads_to_tech = advanced_cruiser_armor_scheme
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_research_cost = 15
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1940
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 21 y = @1940 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 3
				OR = {
					tag = ENG
					tag = JAP
					tag = USA
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}

	advanced_cruiser_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_cruiser_4
		}

		xp_research_type = navy
		xp_research_cost = 15
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1943
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 21 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 3
				OR = {
					tag = ENG
					tag = JAP
					tag = USA
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}
	
	basic_heavy_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_bb_2
			ship_armor_bc_2
		}

		path = {
			leads_to_tech = improved_heavy_armor_scheme
			research_cost_coeff = 1
		}
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1930
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 23 y = @1930 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 2
				OR = {
					tag = ENG
					tag = JAP
					tag = USA
				}
			}
			modifier = {
				OR = { has_idea = london_naval_treaty has_idea = london_naval_treaty_2 has_idea = london_naval_treaty_3 has_idea = london_naval_treaty_4 has_idea = london_naval_treaty_5 }
				factor = 0
			}
		}
		
		categories = {
			naval_equipment
			bb_tech
			
		}
	}

	improved_heavy_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_bb_3
			ship_armor_bc_3
		}

        path = {
			leads_to_tech = advanced_heavy_armor_scheme
			research_cost_coeff = 1
		}
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1939
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 23 y = @1939 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 1.5
				OR = {
					tag = ENG
					tag = USA
				}
			}
			modifier = {
				OR = {
					has_tech = battleship_38 #Tier 5 BB / Tier 4 BC
					has_tech = battlecruiser_39
					has_tech = battleship_39_usa
					has_tech = battlecruiser_39_usa
					has_tech = battleship_38_jap
					has_tech = battlecruiser_40_jap
					has_tech = battleship_38_eng
					has_tech = battlecruiser_39_eng
					has_tech = battleship_38_ger
					has_tech = battlecruiser_39_ger
					has_tech = battleship_38_ita
					has_tech = battlecruiser_39_ita
					has_tech = battleship_38_fra
					has_tech = battlecruiser_39_fra
					has_tech = battleship_38_sov
					has_tech = battlecruiser_39_sov
				}
				factor = 4
			}
			modifier = {
			    factor = 0.1
				tag = GER
				date > 1938.1.1
				NOT = { germany_success_trigger_lategame = yes }
			}
			modifier = {
				OR = { has_idea = london_naval_treaty has_idea = london_naval_treaty_2 has_idea = london_naval_treaty_3 has_idea = london_naval_treaty_4 has_idea = london_naval_treaty_5 }
				factor = 0
			}
		}
		
		categories = {
			naval_equipment
			bb_tech
			
		}
	}
	
	advanced_heavy_armor_scheme = {

		enable_equipment_modules = { 
			ship_armor_bb_4
			ship_armor_bc_4
		}
		
		xp_research_type = navy
		xp_research_cost = 25
		xp_research_bonus = 0.5
		research_cost = 0.7

		start_year = 1943
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 23 y = @1943 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 1.5
				OR = {
					tag = ENG
					tag = USA
				}
			}
			modifier = {
				OR = {
					has_tech = battleship_41 #Tier 6 BB / Tier 5 BC
					has_tech = battlecruiser_42
					has_tech = battleship_41_usa
					has_tech = battlecruiser_42_usa
					has_tech = battleship_41_jap
					has_tech = battlecruiser_42_jap
					has_tech = battleship_41_eng
					has_tech = battlecruiser_42_eng
					has_tech = battleship_41_ger
					has_tech = battlecruiser_42_ger
					has_tech = battleship_41_ita
					has_tech = battlecruiser_42_ita
					has_tech = battleship_40_fra
					has_tech = battlecruiser_42_fra
					has_tech = battleship_41_sov
					has_tech = battlecruiser_41_sov
				}
				factor = 5
			}
		}
		
		categories = {
			naval_equipment
			bb_tech
			
		}
	}
	
	
	sonar = {

		enable_equipment_modules = { 
			ship_sonar_1
		}

		path = {
			leads_to_tech = improved_sonar
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1922
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 25 y = @1922 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 4
				has_war_with = GER
			}
			modifier = {
				factor = 4
				anti_submarine_strategy_required_trigger = yes
			}
			modifier = {
				factor = 50 # the earlier the better
				tag = ENG
			}
			modifier = {
				factor = 0
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}

	improved_sonar = {

		enable_equipment_modules = { 
			ship_sonar_2
		}

		path = {
			leads_to_tech = advanced_sonar
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1936
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 25 y = @1934 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 4
				has_war_with = GER
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.4
			}
			modifier = {
				factor = 2
				anti_submarine_strategy_required_trigger = yes
			}
			modifier = {
				factor = 500
				tag = ENG
			}
		}
		
		# on_research_complete = {
		# 	if = {
		# 		limit = {
		# 			has_tech = improved_depth_charges
		# 			NOT = { has_tech = decimetric_radar }
		# 			or = {
		# 				tag = USA
		# 				tag = ENG
		# 			}
		# 		}
		# 		create_equipment_variant = {
		# 			name = "J Class Destroyer"
		# 			type = ship_hull_light_2
		# 			name_group = ENG_DD_HISTORICAL

		# 			modules = {
		# 				fixed_ship_battery_slot = ship_light_battery_2
		# 				fixed_ship_anti_air_slot = ship_anti_air_2
		# 				fixed_ship_fire_control_system_slot = ship_sonar_2
		# 				fixed_ship_radar_slot = empty
		# 				fixed_ship_engine_slot = light_ship_engine_2
		# 				fixed_ship_torpedo_slot = ship_torpedo_1
		# 				mid_1_custom_slot = ship_depth_charge_2
		# 				rear_1_custom_slot = ship_depth_charge_2
		# 			}
		# 		}
		# 	}
		# 	if = {
		# 		limit = {
		# 			has_tech = improved_depth_charges
		# 			has_tech = decimetric_radar
		# 			or = {
		# 				tag = USA
		# 				tag = ENG
		# 			}
		# 		}
		# 		create_equipment_variant = {
		# 			name = "K Class Destroyer"
		# 			type = ship_hull_light_2
		# 			name_group = ENG_DD_HISTORICAL

		# 			modules = {
		# 				fixed_ship_battery_slot = ship_light_battery_2
		# 				fixed_ship_anti_air_slot = ship_anti_air_2
		# 				fixed_ship_fire_control_system_slot = ship_sonar_2
		# 				fixed_ship_radar_slot = ship_radar_1
		# 				fixed_ship_engine_slot = light_ship_engine_2
		# 				fixed_ship_torpedo_slot = ship_torpedo_1
		# 				mid_1_custom_slot = ship_depth_charge_2
		# 				rear_1_custom_slot = ship_depth_charge_2
		# 			}
		# 		}
		# 	}
		# }
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}
	
	advanced_sonar = {

		enable_equipment_modules = { 
			ship_sonar_3
		}

        path = {
			leads_to_tech = modern_sonar
			research_cost_coeff = 1
		}

		research_cost = 1

		start_year = 1940
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 25 y = @1940 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 4
				has_war_with = GER
			}
			modifier = {
				factor = 2
				anti_submarine_strategy_required_trigger = yes
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
			modifier = {
				factor = 15
				tag = ENG
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}
	
	modern_sonar = {

		enable_equipment_modules = { 
			ship_sonar_4
		}
		
	 	dependencies = {
	    	modern_computing_machine = 1
		}

		research_cost = 1

		start_year = 1944
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 25 y = @1944 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 4
				has_war_with = GER
			}
			modifier = {
				factor = 2
				anti_submarine_strategy_required_trigger = yes
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}

	basic_depth_charges = {

		enable_equipment_modules = { 
			ship_depth_charge_1
			ship_x2_depth_charge_1
			ship_x3_depth_charge_1
		}

		path = {
			leads_to_tech = improved_depth_charges
			research_cost_coeff = 1
		}

		research_cost = 1.2

		start_year = 1930
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 27 y = @1930 }
		}
		
		ai_will_do = {
			factor = 4
			
			modifier = {
				factor = 2
				has_war_with = GER
			}
			modifier = {
				factor = 4
				anti_submarine_strategy_required_trigger = yes
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}

	improved_depth_charges = {

		enable_equipment_modules = { 
			ship_depth_charge_2
			ship_x2_depth_charge_2
			ship_x3_depth_charge_2
		}

		path = {
			leads_to_tech = advanced_depth_charges
			research_cost_coeff = 1
		}

		research_cost = 1.2

		start_year = 1936
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 27 y = @1936 }
		}
		
		ai_will_do = {
			factor = 4
			
			modifier = {
				factor = 2
				has_war_with = GER
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.4
			}
			modifier = {
				factor = 2
				anti_submarine_strategy_required_trigger = yes
			}
			modifier = {
				tag = ENG
				factor = 500 # the earlier the better
			}
			modifier = {
				factor = 0
				tag = ENG
				has_tech_bonus = {
					category = naval_equipment
				}
				NOT = { has_completed_focus = ENG_royal_navy }
			}
		}
		
		# on_research_complete = {
		# 	if = {
		# 		limit = {
		# 			has_tech = improved_sonar
		# 			or = {
		# 				tag = USA
		# 				tag = ENG
		# 			}
		# 			NOT = { has_tech = decimetric_radar }
		# 		}
		# 		create_equipment_variant = {
		# 			name = "J Class Destroyer"
		# 			type = ship_hull_light_2
		# 			name_group = ENG_DD_HISTORICAL

		# 			modules = {
		# 				fixed_ship_battery_slot = ship_light_battery_2
		# 				fixed_ship_anti_air_slot = ship_anti_air_2
		# 				fixed_ship_fire_control_system_slot = ship_sonar_2
		# 				fixed_ship_radar_slot = empty
		# 				fixed_ship_engine_slot = light_ship_engine_2
		# 				fixed_ship_torpedo_slot = ship_torpedo_1
		# 				mid_1_custom_slot = ship_depth_charge_2
		# 				rear_1_custom_slot = ship_depth_charge_2
		# 			}
		# 		}
		# 	}
		# 	if = {
		# 		limit = {
		# 			has_tech = improved_sonar
		# 			has_tech = decimetric_radar
		# 			or = {
		# 				tag = USA
		# 				tag = ENG
		# 			}
		# 		}
		# 		create_equipment_variant = {
		# 			name = "K Class Destroyer"
		# 			type = ship_hull_light_2
		# 			name_group = ENG_DD_HISTORICAL

		# 			modules = {
		# 				fixed_ship_battery_slot = ship_light_battery_2
		# 				fixed_ship_anti_air_slot = ship_anti_air_2
		# 				fixed_ship_fire_control_system_slot = ship_sonar_2
		# 				fixed_ship_radar_slot = ship_radar_1
		# 				fixed_ship_engine_slot = light_ship_engine_2
		# 				fixed_ship_torpedo_slot = ship_torpedo_1
		# 				mid_1_custom_slot = ship_depth_charge_2
		# 				rear_1_custom_slot = ship_depth_charge_2
		# 			}
		# 		}
		# 	}
		# }
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}
	
	advanced_depth_charges = {

		enable_equipment_modules = { 
			ship_depth_charge_3
			ship_x2_depth_charge_3
			ship_x3_depth_charge_3
		}

		path = {
			leads_to_tech = modern_depth_charges
			research_cost_coeff = 1
		}

		research_cost = 1.2

		start_year = 1940
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 27 y = @1940 }
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}
	
	modern_depth_charges = {

		enable_equipment_modules = { 
			ship_depth_charge_4
			ship_x2_depth_charge_4
			ship_x3_depth_charge_4
		}

		research_cost = 1.2

		start_year = 1944
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 27 y = @1944 }	
		}
		
		ai_will_do = {
			factor = 0
		}
		
		categories = {
			naval_equipment
			dd_tech
			asw_tech
		}
	}


	basic_submarine_snorkel = {

		enable_equipment_modules = { 
			ship_sub_snorkel_1
		}

		path = {
			leads_to_tech = improved_submarine_snorkel
			research_cost_coeff = 1
		}
		
		research_cost = 1.3

		start_year = 1938
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 29 y = @1938 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 4
				num_of_factories > 100
			}
			modifier = {
				factor = 6
				OR = {
					tag = GER
					tag = HOL
				}
			}
			modifier = {
				OR = {
					has_tech = submarine_37 #Tier 3 Sub
					has_tech = submarine_38_usa
					has_tech = submarine_37_jap
					has_tech = submarine_36_eng
					has_tech = submarine_37_ger
					has_tech = submarine_37_ita
					has_tech = submarine_37_fra
					has_tech = submarine_37_sov
				}
				factor = 4
			}
			modifier = {
				not = {
					has_war_with = ENG
					has_War_with = USA
				}
				factor = 0.5
			}
		}
		
		categories = {
			naval_equipment
			ss_tech
		}
	}

	improved_submarine_snorkel = {

		enable_equipment_modules = { 
			ship_sub_snorkel_2
		}
		path = {
			leads_to_tech = advanced_submarine_snorkel
			research_cost_coeff = 1
		}

		research_cost = 1.3

		start_year = 1942
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 29 y = @1942 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 4
				num_of_factories > 100
			}
			modifier = {
				factor = 6
				OR = {
					tag = GER
					tag = HOL
				}
			}
			modifier = {
				OR = {
					has_tech = submarine_40 #Tier 4 Sub
					has_tech = submarine_40_usa
					has_tech = submarine_41_jap
					has_tech = submarine_40_eng
					has_tech = submarine_40_ger
					has_tech = submarine_40_ita
					has_tech = submarine_40_fra
					has_tech = submarine_40_sov
				}
				factor = 4
			}
		}
		
		categories = {
			naval_equipment
			ss_tech
		}
	}
	
	advanced_submarine_snorkel = {

		enable_equipment_modules = { 
			ship_sub_snorkel_3
		}
		
		research_cost = 1.3

		start_year = 1944
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 29 y = @1944 }
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 4
				num_of_factories > 100
			}
			modifier = {
				factor = 6
				OR = {
					tag = GER
					tag = HOL
				}
			}
			modifier = {
				OR = {
					has_tech = submarine_44 #Tier 5 Sub
					has_tech = submarine_44_usa
					has_tech = submarine_44_jap
					has_tech = submarine_44_eng
					has_tech = submarine_43_ger
					has_tech = submarine_44_ita
					has_tech = submarine_44_fra
					has_tech = submarine_44_sov
				}
				factor = 4
			}
		}
		
		categories = {
			naval_equipment
			ss_tech
		}
	}
	
	
	#NOTE: FIRE CONTROL SYSTEMS ARE IN ELECTROMECHANICAL ENGINEERING FOLDER!

	fire_control_methods_1 = {
		
		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1

		path = {
			leads_to_tech = fire_control_methods_2
			research_cost_coeff = 1
		}

		sh_battleship = {
			lg_attack = 0.05
			hg_attack = 0.05			
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 31 y = @1920 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
			    factor = 0
				date < 1938.6.1
			}
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				tag = JAP
				factor = 5
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	fire_control_methods_2 = {

		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1

		path = {
			leads_to_tech = fire_control_methods_3
			research_cost_coeff = 1
		}

		sh_battleship = {
			lg_attack = 0.05
			hg_attack = 0.05			
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 31 y = @1923 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
			    factor = 0
				tag = JAP
				has_war_with = CHI
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 6
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	fire_control_methods_3 = {
		
		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1

		sh_battleship = {
			lg_attack = 0.05
			hg_attack = 0.05			
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		destroyer = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 31 y = @1936 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				factor = 5
				tag = JAP
				date > 1940.8.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 10
    		    	type = capital_ship
	        	}
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			        size > 20
    		    	type = capital_ship
	        	}
			}
		}
		
		categories = {
			naval_equipment
		}
	}


	damage_control_1 = {
		
		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1.2

		path = {
			leads_to_tech = damage_control_2
			research_cost_coeff = 1
		}

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 33 y = @1920 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				tag = USA
				factor = 3
			}
			modifier = {
			    factor = 0
				date < 1938.6.1
			}
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 5
				has_navy_size = {
 			         size > 15
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 15
				OR = { tag = ITA tag = USA tag = JAP tag = ENG }
				date > 1939.1.1
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	damage_control_2 = {
		
		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1.2

		path = {
			leads_to_tech = damage_control_3
			research_cost_coeff = 1
		}

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 33 y = @1923 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				tag = USA
				factor = 3
			}
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
			    factor = 0
				tag = JAP
				has_war_with = CHI
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 5
				date > 1939.2.1
				has_navy_size = {
 			         size > 15
    		    	type = capital_ship
	        	}
			}
			modifier = {
				factor = 15
				OR = { tag = ITA tag = USA tag = JAP tag = ENG }
				date > 1942.1.1
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	damage_control_3 = {
		
		xp_research_type = navy
		xp_research_cost = 10
		xp_research_bonus = 0.25
		research_cost = 1.2

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 33 y = @1936 }
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				is_historical_focus_on = yes
				tag = JAP
				factor = 0.25
			}
			modifier = {
				tag = USA
				factor = 3
			}
			modifier = {
				tag = GER
				date > 1939.1.1
				NOT = { germany_success_trigger_lategame = yes }
				factor = 0.1
			}
			modifier = {
				factor = 20
				date > 1940.1.1
				has_navy_size = {
 			         size > 20
    		    	type = capital_ship
	        	}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}
		
		categories = {
			naval_equipment
		}
	}

	airplane_launcher = {

		enable_equipment_modules = { 
			ship_airplane_launcher_1
		}

		path = {
			leads_to_tech = improved_airplane_launcher
			research_cost_coeff = 1
		}

		research_cost = 0.6
		
		start_year = 1920
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 35 y = @1920 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 3.5
				OR = {
					tag = GER
					tag = JAP
					tag = USA
					tag = ENG
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}

	improved_airplane_launcher = {		
		enable_equipment_modules = { 
			ship_airplane_launcher_2
		}
		research_cost = 0.6

		start_year = 1936
		
		folder = {
			name = mtgnavalsupportfolder
			position = {  x = 35 y = @1930 }
		}
		
		ai_will_do = {
			factor = 2
			
			modifier = {
				factor = 3.5
				OR = {
					tag = GER
					tag = JAP
					tag = USA
					tag = ENG
				}
			}
		}
		
		categories = {
			naval_equipment
			cl_tech
			ca_tech
		}
	}
	
	smoke_generator = {

		naval_retreat_speed = 0.15

		path = {
			leads_to_tech = improved_smoke_generator
			research_cost_coeff = 1
		}
		
		research_cost = 0.6
		
		start_year = 1922
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 37 y = @1922 }
		}
		
		ai_will_do = {
			factor = 8
			
			modifier = {
				factor = 2
				tag = ENG
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
		}
	}
	
	improved_smoke_generator = {

		naval_retreat_speed = 0.15
		
		research_cost = 0.6

		start_year = 1940
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 37 y = @1940 }
		}
		
		ai_will_do = {
			factor = 8
			
			modifier = {
				factor = 2
				tag = ENG
			}
		}
		
		categories = {
			naval_equipment
			dd_tech
		}
	}
	
	mtg_transport = { #WHEN BALANCING - ALSO FIX REGULAR NAVAL TREE
	
		naval_invasion_capacity = 4
		
		path = {
			leads_to_tech = mtg_landing_craft 
			research_cost_coeff = 1
		}
		
		research_cost = 1.7

		start_year = 1920
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 39 y = @1920 }
		}
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 5
				date > 1939.10.1 
				OR = {
					tag = GER
					tag = ENG
					tag = USA
				}
			}
			modifier = {
				factor = 50
				tag = JAP
			}
            modifier = {
				factor = 3
				date > 1939.10.1 
				surrender_progress < 0.04
				OR = {
					tag = ENG
					tag = USA
				}
			}
			modifier = {
			factor = 40
			date > 1941.1.1 
			has_war = yes
				OR = {
					tag = ENG
					tag = HOL
					tag = CAN
					tag = USA
					tag = AST
					tag = FRA
					tag = NZL
					tag = SAF
					tag = BRA
					tag = ARG
					tag = SPR
					tag = GER
					tag = ITA
					tag = SOV
				}
			}
		}
		
		categories = {
			naval_equipment
			tp_tech
		}
	}
	
	mtg_landing_craft = {

		invasion_preparation = -0.3
		amphibious_invasion_defence = 0.05
		naval_invasion_capacity = 4
		transport_capacity = -0.1

		path = {
			leads_to_tech = mtg_tank_landing_craft 
			research_cost_coeff = 1
		}
		
		research_cost = 3

		start_year = 1938
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 39 y = @1938 }
		}
		
		ai_will_do = {
			factor = 6
			modifier = {
				factor = 30
				date > 1940.2.1 
				surrender_progress < 0.04
				OR = {
					tag = ENG
					tag = USA
				}
			}
			modifier = {
				factor = 40
				has_war = yes
				date > 1942.1.1 
				OR = {
					tag = ENG
					tag = HOL
					tag = CAN
					tag = USA
					tag = AST
					tag = FRA
					tag = NZL
					tag = SAF
					tag = BRA
					tag = ARG
					tag = SPR
					tag = SOV
				}
			}
			modifier = {
			    factor = 0.1
				tag = GER
				date > 1938.1.1
				NOT = { germany_success_trigger_lategame = yes }
			}
			modifier = {
				factor = 50
				tag = JAP
				date > 1939.1.1
			}
		}
		
		categories = {
			naval_equipment
			tp_tech
		}
	}
	
	mtg_tank_landing_craft = {

		amphibious_invasion = 0.1
		amphibious_invasion_defence = 0.05
		naval_invasion_capacity = 3
		transport_capacity = -0.2

		path = {
			leads_to_tech = mtg_landing_craft_2
			research_cost_coeff = 1
		}

		research_cost = 3.25

		start_year = 1942
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 39 y = @1942 }
		}

		ai_will_do = {
			factor = 6
			modifier = {
			factor = 30
			date > 1941.9.1 
			surrender_progress < 0.04
				OR = {
					tag = ENG
					tag = USA
				}
			}
			modifier = {
			factor = 40
			date > 1942.7.1 
			has_war = yes
				OR = {
					tag = ENG
					tag = HOL
					tag = CAN
					tag = USA
					tag = AST
					tag = FRA
					tag = NZL
					tag = SAF
					#tag = SOV
				}
			}
			modifier = {
			factor = 70
				OR = {
					tag = GER
					tag = ITA
				}
				SOV = { 
					OR = {
						has_capitulated = yes 
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 70
				tag = JAP
			}			
		}
		
		categories = {
			naval_equipment
			tp_tech
		}
	}
	
	mtg_landing_craft_2 = {

		amphibious_invasion = 0.05
		amphibious_invasion_defence = 0.05
		naval_invasion_capacity = 3
		transport_capacity = -0.15

		research_cost = 3.5

		start_year = 1945
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 39 y = @1945 }
		}

		ai_will_do = {
			factor = 6
			modifier = {
				factor = 40
				surrender_progress < 0.04
				OR = {
					tag = ENG
					tag = USA
				}
			}			
			modifier = {
				factor = 30
				has_war = yes
				OR = {
					tag = ENG
					tag = HOL
					tag = CAN
					tag = USA
					tag = AST
					tag = FRA
					tag = NZL
					tag = SAF
					tag = SOV
				}
			}
			modifier = {
				factor = 70
				OR = {
					tag = GER
					tag = ITA
				}
				SOV = { 
					OR = {
						has_capitulated = yes 
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 70
				tag = JAP
			}				
		}
		categories = {
			naval_equipment
			tp_tech
		}
	}

	basic_naval_mines = {
		
		research_cost = 2

		start_year = 1920

		path = {
			leads_to_tech = improved_naval_mines 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = submarine_mine_laying
			research_cost_coeff = 1
		}
		
		allow_branch = {
			has_game_rule = { rule = allow_mines option = DEFAULT }
		}

		enable_equipment_modules = { 
			ship_mine_layer_1
			ship_mine_layer_x2
			ship_mine_layer_x3
		}

		enable_equipment_modules = { 
			ship_mine_sweeper_1
			ship_mine_sweeper_x2
			ship_mine_sweeper_x3
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 41 y = @1920 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					tag = GER
					tag = USA
					tag = ENG
					tag = SOV
				}
				factor = 6
			}
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				num_of_factories < 100
				factor = 2
			}
		}
		
		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	# submarine_mine_laying = {
		
	# 	research_cost = 1.75

	# 	start_year = 1940

	# 	path = {
	# 		leads_to_tech = improved_submarine_mine_laying 
	# 		research_cost_coeff = 1
	# 	}

	# 	enable_equipment_modules = { 
	# 		ship_mine_layer_sub
	# 	}

	# 	folder = {
	# 		name = mtgnavalsupportfolder
	# 		position = { x = 45 y = @1940 }
	# 	}
		
	# 	ai_will_do = {
	# 		factor = 1
	# 		modifier = {
	# 			OR = {
	# 				tag = GER
	# 				tag = USA
	# 				tag = ENG
	# 				tag = SOV
	# 			}
	# 			factor = 6
	# 		}
	# 	}
		
	# 	categories = {
	# 		naval_mines
	# 		naval_minelaying
	# 		naval_equipment
	# 	}
	# }

	# improved_submarine_mine_laying = {
		
	# 	research_cost = 1.75

	# 	start_year = 1942
		
	# 	submarine = {
	# 		mines_planting = 0.2
	# 	}

	# 	folder = {
	# 		name = mtgnavalsupportfolder
	# 		position = { x = 45 y = @1942 }
	# 	}
		
	# 	ai_will_do = {
	# 		factor = 1.5
	# 		modifier = {
	# 			OR = {
	# 				tag = GER
	# 				tag = USA
	# 				tag = ENG
	# 				tag = SOV
	# 			}
	# 			factor = 6
	# 		}
	# 	}
		
	# 	categories = {
	# 		naval_mines
	# 		naval_minelaying
	# 		naval_equipment
	# 	}
	# }

	improved_naval_mines = {
		
		research_cost = 2

		start_year = 1923

		path = {
			leads_to_tech = advanced_naval_mines 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = degaussing
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 41 y = @1923 }
		}
		
		ai_will_do = {
			factor = 1
			#modifier = {
			#	OR = {
			#		tag = GER
			#		tag = USA
			#		tag = ENG
			#	}
			#	factor = 3
			#}
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				num_of_factories < 100
				factor = 2
			}
		}
		
		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	degaussing = {
		
		research_cost = 1.25

		start_year = 1938
		
		naval_mines_effect_reduction = 0.5
		
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 43 y = @1938 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					tag = GER
					tag = USA
					tag = ENG
					tag = SOV
				}
				factor = 5
			}
			modifier = {
			    tag = GER
			    date > 1939.9.1
				SOV = { NOT = { has_capitulated = yes } }
				factor = 0.2
			}
		}
		
		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
	}

	advanced_naval_mines = {
		
		research_cost = 2

		start_year = 1942

		path = {
			leads_to_tech = modern_naval_mines 
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = airdrop_mines
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 41 y = @1942 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					tag = USA
					tag = ENG
				}
				factor = 5
			}
		}
		
		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	airdrop_mines = {
		
		research_cost = 2

		start_year = 1942

		category_nav_bomber = { 
			mines_planting = 0.05 
		}
		category_tac_bomber = { 
			mines_planting = 0.08 
		}
		category_strat_bomber = { 
			mines_planting = 0.13 
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 43 y = @1942 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					tag = GER
					tag = USA
					tag = ENG
				}
				factor = 7
			}
		}
		
		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	modern_naval_mines = {
		
		research_cost = 2.15

		start_year = 1945

		path = {
			leads_to_tech = airsweep_mines
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 41 y = @1945 }
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				tag = USA
				factor = 3
			}
		}
		
		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
	}

	airsweep_mines = {
		
		research_cost = 2

		start_year = 1945

		category_nav_bomber = { 
			mines_sweeping = 0.1 
		}
		
		category_tac_bomber = { 
			mines_sweeping = 0.15 
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 43 y = @1945 }
		}
		
		ai_will_do = {
			factor = 1
		}
		
		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
	}
}